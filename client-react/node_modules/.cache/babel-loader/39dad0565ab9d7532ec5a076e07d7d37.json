{"ast":null,"code":"var _jsxFileName = \"D:\\\\Repositories\\\\lachlan-sharp-final-project\\\\client-react\\\\src\\\\components\\\\Profile.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport '../stylesheets/Profile.css';\nimport axios from 'axios';\nimport CreateBlogPost from './CreateBlogPost';\nimport { BrowserRouter as Router, Link } from 'react-router-dom';\nlet blogArray = [];\n\nclass Profile extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.log_out = () => {\n      this.props.dispatch({\n        type: 'LOG_OUT'\n      });\n      this.props.dispatch({\n        type: 'USER_LOGOUT'\n      });\n    };\n\n    this.blogDataAction = blogdata => {\n      this.props.dispatch({\n        type: 'BLOG_DATA',\n        payload: blogdata\n      });\n    };\n\n    this.createPostAction = () => {\n      this.props.dispatch({\n        type: 'BLOG_POST'\n      });\n    };\n\n    this.blogpostRequest = () => {\n      var encodedURI = window.encodeURI(\"\".concat(this.props.uri, \"/userBlogs\"));\n      return axios.post(encodedURI, {\n        userID: parseInt(this.props.user.iduser)\n      }).then(response => {\n        this.blogDataAction(response.data);\n        blogArray = response.data;\n        blogArray.reverse();\n      });\n    };\n\n    this.requestTimeout = () => {\n      setTimeout(this.blogpostRequest, 100);\n    };\n  }\n\n  componentWillMount() {\n    this.requestTimeout();\n  } // componentDidMount() {\n  //     this.requestTimeout();\n  // }\n\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"Profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, window.location.pathname === '/' ? React.createElement(\"div\", {\n      className: \"Profile-Box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"Profile-Header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"Profile-Header-Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, this.props.user.firstName, \" \", this.props.user.lastName), React.createElement(\"div\", {\n      className: \"Profile-Header-Forum-Link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Forum\"), React.createElement(\"div\", {\n      className: \"Profile-Header-Signout\",\n      onClick: this.log_out,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Sign Out\")), React.createElement(\"div\", {\n      className: \"Profile-Body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"Profile-Body-Title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Your Blogs:\"), React.createElement(\"div\", {\n      className: \"Profile-Body-Blogs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, blogArray.map(blog => {\n      return React.createElement(\"div\", {\n        key: blog.blog_id,\n        className: \"Profile-Individual-Blogpost\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, blog.blogName);\n    })), React.createElement(\"div\", {\n      className: \"Profile-Body-Create-Blog\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/createBlogPost\",\n      onClick: this.createPostAction,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Create a Blog!\"))))) : React.createElement(\"div\", {\n      className: \"Profile-Box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(CreateBlogPost, {\n      uri: \"http://localhost:3001/users/createBlogPost\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    })));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user,\n    isLogged: state.isLogged,\n    blogs: state.blogs\n  };\n}\n\nexport default connect(mapStateToProps)(Profile);","map":{"version":3,"sources":["D:\\Repositories\\lachlan-sharp-final-project\\client-react\\src\\components\\Profile.js"],"names":["React","Component","connect","axios","CreateBlogPost","BrowserRouter","Router","Link","blogArray","Profile","log_out","props","dispatch","type","blogDataAction","blogdata","payload","createPostAction","blogpostRequest","encodedURI","window","encodeURI","uri","post","userID","parseInt","user","iduser","then","response","data","reverse","requestTimeout","setTimeout","componentWillMount","render","location","pathname","firstName","lastName","map","blog","blog_id","blogName","mapStateToProps","state","isLogged","blogs"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport '../stylesheets/Profile.css';\r\nimport axios from 'axios';\r\nimport CreateBlogPost from './CreateBlogPost';\r\nimport { BrowserRouter as Router, Link } from 'react-router-dom';\r\n\r\nlet blogArray = [];\r\n\r\n\r\nclass Profile extends Component {\r\n\r\n    log_out = () => {\r\n        this.props.dispatch({\r\n            type: 'LOG_OUT'\r\n        })\r\n        this.props.dispatch({\r\n            type: 'USER_LOGOUT'\r\n        })\r\n    }\r\n\r\n    blogDataAction = (blogdata) => {\r\n        this.props.dispatch({\r\n            type: 'BLOG_DATA',\r\n            payload: blogdata\r\n        })\r\n    }\r\n\r\n    createPostAction = () => {\r\n        this.props.dispatch({\r\n            type: 'BLOG_POST'\r\n        })\r\n    }\r\n\r\n    blogpostRequest = () => {\r\n        var encodedURI = window.encodeURI(`${this.props.uri}/userBlogs`);\r\n        return axios.post(encodedURI, { userID: parseInt(this.props.user.iduser) })\r\n        .then(response => {\r\n            this.blogDataAction(response.data);\r\n            blogArray = response.data;\r\n            blogArray.reverse();\r\n        })\r\n    }\r\n\r\n    requestTimeout = () => {\r\n        setTimeout(this.blogpostRequest, 100);\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.requestTimeout();\r\n    }\r\n\r\n    // componentDidMount() {\r\n    //     this.requestTimeout();\r\n    // }\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"Profile\">\r\n                    { (window.location.pathname === '/')\r\n                    ?\r\n                <div className=\"Profile-Box\">\r\n                        <div className=\"Profile-Header\">\r\n                            <div className='Profile-Header-Name'>\r\n                                {this.props.user.firstName} {this.props.user.lastName}\r\n                            </div>\r\n                            <div className='Profile-Header-Forum-Link'>\r\n                                Forum\r\n                            </div>\r\n                            <div className='Profile-Header-Signout' onClick={this.log_out}>\r\n                                Sign Out\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"Profile-Body\">\r\n                            <div className=\"Profile-Body-Title\">\r\n                                Your Blogs: \r\n                            </div>\r\n                            <div className=\"Profile-Body-Blogs\">\r\n                                {blogArray.map(blog => {\r\n                                    return (\r\n                                        <div key={blog.blog_id} className='Profile-Individual-Blogpost'>\r\n                                            {blog.blogName}\r\n                                        </div>\r\n                                    )\r\n                                })}\r\n                            </div>\r\n                            <div className=\"Profile-Body-Create-Blog\">\r\n                                <Router>\r\n                                    <Link to='/createBlogPost'\r\n                                          onClick={this.createPostAction}>Create a Blog!</Link>\r\n                                </Router>\r\n                            </div>\r\n                        </div>\r\n                </div>\r\n                    :\r\n                    <div className=\"Profile-Box\">\r\n                        <CreateBlogPost uri='http://localhost:3001/users/createBlogPost'/>\r\n                    </div>\r\n                    }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.user,\r\n        isLogged: state.isLogged,\r\n        blogs: state.blogs\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Profile);"]},"metadata":{},"sourceType":"module"}